<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Library</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/photo-grid.css">
    <link rel="stylesheet" href="styles/gallery-view.css">
    <link rel="stylesheet" href="styles/modal.css">
    
    <!-- External Dependencies -->
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1048.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://unpkg.com/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"></script>
    <script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <h1>Photo Library</h1>
        <button id="settingsBtn" class="secondary-button">Settings</button>
    </header>

    <!-- Main container -->
    <main class="container">
        <!-- Upload Zone -->
        <div class="upload-zone" id="uploadZone">
            <input type="file" id="photoUpload" multiple accept="image/*" hidden>
            <button id="uploadBtn" class="primary-button">Upload Photos</button>
            <p class="upload-text">or drag and drop images here</p>
        </div>

        <!-- Photo Grid -->
        <div class="photo-grid" id="photoGrid"></div>
    </main>

    <!-- Config Modal -->
    <div class="modal" id="configModal">
        <div class="modal-content">
            <h2>Storage Configuration</h2>
            <form id="s3ConfigForm">
                <div class="form-group">
                    <input type="text" id="bucketUrl" name="bucketUrl" placeholder="Bucket URL">
                </div>
                <div class="form-group">
                    <input type="text" id="bucketName" name="bucketName" placeholder="Bucket Name">
                </div>
                <div class="form-group">
                    <input type="text" id="accessKeyId" name="accessKeyId" placeholder="Access Key ID">
                </div>
                <div class="form-group">
                    <input type="text" id="secretAccessKey" name="secretAccessKey" placeholder="Secret Access Key">
                </div>
                
                <div class="encryption-section">
                    <h3>Encryption Key</h3>
                    <div class="key-display">
                        <input type="text" id="encryptionKeyInput" readonly>
                        <button type="button" class="secondary-button" id="copyKeyBtn">Copy</button>
                    </div>
                    <div class="key-actions">
                        <button type="button" class="primary-button" id="generateKeyBtn">Generate New Key</button>
                        <button type="button" class="secondary-button" id="exportKeyBtn">Export Key</button>
                        <button type="button" class="secondary-button" id="importKeyBtn">Import Key</button>
                        <input type="file" id="keyImport" accept=".key" hidden>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="primary-button">Save Configuration</button>
                </div>
            </form>
        </div>
    </div>

    <!-- App Scripts -->
    <script type="module" src="js/app.js"></script>
</body>
</html>